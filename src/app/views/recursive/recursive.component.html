<div class="tree">
    <ul>

        <ng-template #recursiveList let-list>
        
            <li *ngFor="let item of list; let index=index">

                <a (click)="selectItem(item)" style="">{{selectedItem === item ? '->'+item.label : item.label}}</a>

                <ul *ngIf="item.children.length > 0">
                    <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: item.children }"></ng-container>
                </ul>

            </li>

        </ng-template>

        <!-- this starts the recursion -->
        <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: treeData }"></ng-container>

    </ul>
</div>